(this["webpackJsonpgithub-search-app"]=this["webpackJsonpgithub-search-app"]||[]).push([[0],{11:function(e,t,r){},30:function(e,t,r){},54:function(e,t,r){},55:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(0),a=r.n(c),o=r(6),s=r.n(o),i=(r(11),r(24)),u=(r(30),r(4)),l=r(21),b=r.n(l),h="GET_REPOS_SUCCESS",f="GET_REPOS_FAILURE",j=function(e){return{type:f,payload:e}},p=function(e){return function(t){b.a.get("https://api.github.com/orgs/".concat(e,"/repos")).then((function(e){var r=e.data;t(function(e){return{type:h,payload:e}}(r))})).catch((function(e){if("Request failed with status code 404"===e.message){t(j("Not Found"))}else{var r=e.message;t(j(r))}}))}},g=Object(u.b)(null,(function(e){return{fetchRepos:function(t){return e(p(t))}}}))((function(e){var t=Object(c.useState)(""),r=Object(i.a)(t,2),a=r[0],o=r[1],s=Object(c.useRef)();Object(c.useEffect)((function(){s.current.focus()}));return Object(n.jsxs)("form",{className:"search-form",onSubmit:function(t){t.preventDefault(),a.length>0&&e.fetchRepos(a)},children:[Object(n.jsx)("input",{placeholder:"Enter a Github organization name",className:"search-form__input",value:a,onChange:function(e){o(e.target.value)},ref:s}),Object(n.jsx)("button",{type:"submit",className:"search-form__submit-btn",children:"submit"})]})})),d=(r(54),Object(u.b)((function(e){return{organization:e.organization,repositories:e.repositories,errorMsg:e.errorMsg}}))((function(e){var t=e.repositories.slice(0,5).map((function(e){return Object(n.jsx)("li",{className:"search-results__li",children:e.name},e.id)}));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{className:"search-results__organization",children:e.errorMsg?e.errorMsg:e.organization}),Object(n.jsx)("ul",{className:"search-results",children:t&&t})]})})));var O=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Github search app"}),Object(n.jsx)(g,{}),Object(n.jsx)(d,{})]})},m=r(3),v=r(5),x={organization:null,repositories:[],errorMsg:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(v.a)(Object(v.a)({},e),{},{errorMsg:null,repositories:t.payload,organization:t.payload[0].owner.login});case f:return Object(v.a)(Object(v.a)({},x),{},{errorMsg:t.payload});default:return e}},S=r(22),_=r(23),E=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),M=Object(m.createStore)(y,E,Object(S.composeWithDevTools)(Object(m.applyMiddleware)(_.a)));M.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(r){console.log(r)}}(M.getState())})),s.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(u.a,{store:M,children:Object(n.jsx)(O,{})})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.fb017973.chunk.js.map